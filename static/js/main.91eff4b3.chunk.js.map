{"version":3,"sources":["Lexer.js","Parser.js","App.js","reportWebVitals.js","index.js"],"names":["Token","type","value","this","TokenTypes","Lexer","input","curPos","curChar","preToken","nextChar","msg","repeat","skipWhiteSpace","length","token","undefined","peek","result","exec","slice","throw","str","parseFloat","includes","Parser","lexer","nextToken","expression","getToken","term","power","uniary","primary","button_config","top","left","height","width","HistoryEntry","props","handleClickExpr","bind","handleClickAns","handleClickDel","e","onClickExpr","history","onClickAns","answer","console","log","index","onClickDel","className","onClick","React","Component","History","histories","entries","map","h","id","onClickDelAll","Input","handleChange","handleSelect","onChange","target","onSelect","ref","input_ref","Display","onInputChange","onInputSelect","Button","handleClick","event","style","Buttons","buttons","element","onClickButton","position","App","handleButtonInput","handleInputChange","handleInputSelect","handleHistoryInputAns","handleHistoryInputExpr","handleHistoryDelete","handleHistoryDeleteAll","state","input_cur_start","input_cur_end","createRef","setState","filter","current","selectionStart","selectionEnd","new_state","parser","parse","toString","len","concat","handleEqual","new_pos","focus","setSelectionRange","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.91eff4b3.chunk.js","sourcesContent":["class Token{\n    type = null;\n    value = null;\n    constructor(type, value){\n        this.type = type;\n        this.value = value;\n    }\n}\n\nlet TokenTypes = {\n    //EQ: 1,\n    PLUS: 2,\n    MINUS: 3,\n    ASTERISK: 4,\n    SLASH: 5,\n    DOUBLEASTERISK:6,\n    NUMBER: 7,\n    LPAR: 10,\n    RPAR: 11,\n    CARET: 12,\n    END:-1,\n}\n\nclass Lexer{\n    constructor(input){\n        this.input = input;\n        this.curPos = -1;\n        this.curChar = \"\";\n        this.preToken = null;\n        this.nextChar();\n    }\n\n    nextChar(){\n        ++this.curPos;\n        this.curChar = this.input[this.curPos];\n    }\n\n    peek(){\n        return this.input[this.curPos+1];\n    }\n\n    skipWhiteSpace(){\n        while(this.curChar == \" \"){\n            this.nextChar();\n        }\n    }\n\n    throw(msg){\n        throw \"Lexer error: \\n\\t\" + this.input + \"\\n\\t\" + \" \".repeat(this.curPos) + \"^\\n\\t\" +msg;\n    }\n\n    getToken(){\n        this.skipWhiteSpace();\n        if(this.curPos == this.input.length){\n            return new Token(TokenTypes.END);\n        }\n        let token = undefined;\n        if(this.curChar == \"+\"){\n            token = new Token(TokenTypes.PLUS);\n        }\n        else if(this.curChar == \"-\"){\n            token = new Token(TokenTypes.MINUS);\n        }\n        else if(this.curChar == \"*\"){\n            if(this.peek() == \"*\"){\n                token = new Token(TokenTypes.DOUBLEASTERISK);\n                this.nextChar();\n            }\n            else{\n                token = new Token(TokenTypes.ASTERISK);\n            }\n        }\n        else if(this.curChar == \"/\"){\n            token = new Token(TokenTypes.SLASH);\n        }\n        else if(this.curChar == \"(\"){\n            token = new Token(TokenTypes.LPAR);\n        }\n        else if(this.curChar == \")\"){\n            token = new Token(TokenTypes.RPAR);\n        }\n        else if(this.curChar == \".\"){\n            let re = /^\\.\\d+([eE][+-]?\\d+)?/;\n            let result = re.exec(this.input.slice(this.curPos));\n            if(result == null){\n                this.throw(\"Undefined token starting with .\")\n            }\n            let str = result[0];\n            let value = parseFloat(str);\n            this.curPos += str.length-1;\n            token = new Token(TokenTypes.NUMBER, value);\n        }\n        else if(this.curChar == \"^\"){\n            token = new Token(TokenTypes.CARET);\n        }\n        else if(\"0123456789\".includes(this.curChar)){\n            let re = /^(0|[1-9]\\d*)(\\.\\d*)?([eE][+-]?\\d+)?/;\n            let result = re.exec(this.input.slice(this.curPos));\n            if(result == null){\n                this.throw(\"Error when tokenizing number\")\n            }\n            let str = result[0];\n            let value = parseFloat(str);\n            this.curPos += str.length-1;\n            token = new Token(TokenTypes.NUMBER, value);\n        }\n        if(token == undefined){\n            this.throw( `Undefined char \\\"${this.curChar}\\\"`);\n        }\n        this.nextChar();\n        return token;\n    }\n}\n\nexport {Lexer, TokenTypes};","//import Lexer from './Lexer.js'; \nimport {Lexer, TokenTypes} from './Lexer'; \n\nexport default class Parser{\n    constructor(input){\n        this.lexer = new Lexer(input);\n        this.token = null;\n    }\n\n    parse(){\n        this.nextToken();\n        let value = this.expression();\n        if(this.token.type != TokenTypes.END){\n            this.throw(\"Not end\");\n        }\n        return value\n    }\n\n    throw(msg){\n        throw \"Parser error: \\n\\t\" + msg;\n    }\n\n    nextToken(){\n        this.token = this.lexer.getToken();\n    }\n\n    expression(){\n        let result = this.term();\n        \n        while(this.token.type == TokenTypes.PLUS || this.token.type == TokenTypes.MINUS){\n            if(this.token.type == TokenTypes.PLUS){\n                this.nextToken();\n                result += this.term();\n            }\n            else{\n                this.nextToken();\n                result -= this.term();\n            }\n        }\n        return result\n    }\n\n    term(){\n        let result = this.power();\n        \n        while(this.token.type == TokenTypes.ASTERISK || this.token.type == TokenTypes.SLASH){\n            if(this.token.type == TokenTypes.ASTERISK){\n                this.nextToken();\n                result *= this.power();\n            }\n            else{\n                this.nextToken();\n                result /= this.power();\n            }\n        }\n        return result\n    }\n\n    power(){\n        let result = this.uniary();\n        \n        while(this.token.type == TokenTypes.DOUBLEASTERISK || this.token.type == TokenTypes.CARET ){\n            this.nextToken();\n            result = result ** this.power();\n        }\n        return result\n    }\n\n    uniary(){\n        if(this.token.type == TokenTypes.PLUS || this.token.type == TokenTypes.MINUS){\n            this.nextToken();\n            return (this.token.type == TokenTypes.PLUS)?this.primary():-this.primary();\n        }\n        return this.primary();\n    }\n\n    primary(){\n        if(this.token.type == TokenTypes.NUMBER){\n            let value = this.token.value;\n            this.nextToken();\n            return value;\n        }\n        else if(this.token.type == TokenTypes.LPAR){\n            this.nextToken()\n            let value = this.expression();\n            if(this.token.type != TokenTypes.RPAR){\n                this.throw(\"unbalanced paranthesis\");\n            }\n            this.nextToken()\n            return value;\n        }\n        this.throw(`got token type ${this.token.type} in primary`);\n    }\n}\n\n/*\n//testing\nlet exprs = [\n    \"5+ 3*2\",\n    \".353 / 1.3\",\n    \"(5+3) * (3* ( 5-3))\",\n    \"(1-2) / (3** ( 5-3))\",\n    \"- 5+ 3*9**2\",\n    \"1/0\",\n    \"2**3**2\",\n    \"*\",\n    \"3*\"\n]\n\nfor(expr of exprs){\n    let parser = new Parser(expr);\n    try{\n        console.log(`${expr} = ${parser.parse()}`);\n    }catch(e){\n        console.log(e);\n    }\n    try{\n        console.log(eval(expr));\n    }catch(e){\n        console.log(e);\n    }\n}\n*/","import './App.css';\nimport Parser from \"./Parser\";\nimport React from \"react\";\n\nfunction handleEqual(state){\n  if(state.expression == \"\"){\n    return;\n  }\n  let parser = new Parser(state.expression);\n  let index = state.history.length==0?0:state.history[0].index+1;\n  try{\n    let result = parser.parse().toString();\n    let len = result.length;\n    \n    return {\n      expression: result,\n      input_cur_start: len,\n      input_cur_end: len,\n      history : [\n        {\n        expression: state.expression,\n        answer: result,\n        index: index,\n        }\n      ].concat(state.history),\n    }\n  }\n  catch(e){\n    return {\n      expression: \"\",\n      input_cur_start:0,\n      input_cur_end:0,\n      history : [\n        {\n        expression: state.expression,\n        answer: null,\n        index: index,\n        }\n      ].concat(state.history),\n    }\n  }\n}\n\n\nlet button_config = [\n  {value: \"C\", top:0, left:0, height:1, width:1},\n  {value: \"Del\", top:0, left:1, height:1, width:1},\n  {value: \"←\", top:0, left:2, height:1, width:1},\n  {value: \"→\", top:0, left:3, height:1, width:1},\n  {value: \"(\", top:1, left:0, height:1, width:1},\n  {value: \")\", top:1, left:1, height:1, width:1},\n  {value: \"E\", top:1, left:2, height:1, width:1},\n  {value: \"^\", top:1, left:3, height:1, width:1},\n  {value: \"9\", top:2, left:2, height:1, width:1},\n  {value: \"8\", top:2, left:1, height:1, width:1},\n  {value: \"7\", top:2, left:0, height:1, width:1},\n  {value: \"6\", top:3, left:2, height:1, width:1},\n  {value: \"5\", top:3, left:1, height:1, width:1},\n  {value: \"4\", top:3, left:0, height:1, width:1},\n  {value: \"3\", top:4, left:2, height:1, width:1},\n  {value: \"2\", top:4, left:1, height:1, width:1},\n  {value: \"1\", top:4, left:0, height:1, width:1},\n  {value: \"0\", top:5, left:1, height:1, width:1},\n  {value: \".\", top:5, left:0, height:1, width:1},\n  {value: \"=\", top:5, left:2, height:1, width:1},\n  {value: \"+\", top:5, left:3, height:1, width:1},\n  {value: \"-\", top:4, left:3, height:1, width:1},\n  {value: \"*\", top:3, left:3, height:1, width:1},\n  {value: \"/\", top:2, left:3, height:1, width:1},\n]\nlet gw = 125;\nlet gh = 80;\n\nclass HistoryEntry extends React.Component{\n  constructor(props){\n    super(props);\n    this.handleClickExpr = this.handleClickExpr.bind(this);\n    this.handleClickAns = this.handleClickAns.bind(this);\n    this.handleClickDel = this.handleClickDel.bind(this);\n  }\n\n  handleClickExpr(e){\n    if(this.props.onClickExpr){\n      this.props.onClickExpr(this.props.history.expression);\n    }\n  }\n\n  handleClickAns(e){\n    if(this.props.onClickAns){\n      this.props.onClickAns(this.props.history.answer);\n    }\n  }\n\n  handleClickDel(e){\n    console.log(this.props.history.index);\n    if(this.props.onClickDel){\n      this.props.onClickDel(this.props.history.index);\n    }\n  }\n\n  render(){\n    return (\n      <div>\n        <span className=\"history-delete\" onClick={this.handleClickDel}>✕</span>\n        <span className=\"history-expr\" onClick={this.handleClickExpr}>{this.props.history.expression}</span> \n        = \n        {this.props.history.answer === null?(\n            <span className=\"history-error\"> Invalid</span>\n          ):(\n            <span className=\"history-answer\" onClick={this.handleClickAns}>{this.props.history.answer}</span>\n          )\n        }\n      </div>\n    );\n  }\n}\n\nfunction History(props){\n  let histories = props.entries.map(h =>{\n    return (\n      <HistoryEntry \n        key={h.index}\n        onClickExpr={props.onClickExpr}\n        onClickAns={props.onClickAns}\n        onClickDel={props.onClickDel}\n        history={h} \n      />\n    );\n  });\n  return (\n    <div id=\"histories\">\n      <div>\n        <button onClick={props.onClickDelAll}>Clear</button>\n      </div>\n      <div id=\"history-display\">\n        {histories}\n      </div>\n    </div>\n  )\n}\n\nclass Input extends React.Component{\n  constructor(props){\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSelect = this.handleSelect.bind(this);\n  }\n\n  handleChange(e){\n    if(this.props.onChange){\n      this.props.onChange(e.target);\n    }\n  }\n\n  handleSelect(e){\n    if(this.props.onSelect){\n      this.props.onSelect(e.target);\n    }\n  }\n\n  render(){\n    return (\n      <input \n        value={this.props.value} \n        type=\"textarea\" \n        id=\"expr_input\" \n        ref={this.props.input_ref}\n        onSelect={this.handleSelect}\n        onChange={this.handleChange}\n      />\n    );\n  }\n}\n\n\nclass Display extends React.Component{\n  constructor(props){\n    super(props);\n  };\n\n  render(){\n    return (\n      <div className=\"display\">\n        <Input \n          value={this.props.input} \n          input_ref={this.props.input_ref}\n          onChange={this.props.onInputChange}\n          onSelect={this.props.onInputSelect}\n        />\n      </div>\n    );\n  };\n}\n\nclass Button extends React.Component{\n  constructor(props){\n    super(props);\n    this.handleClick = this.handleClick.bind(this);\n  };\n\n  handleClick(event){\n    this.props.onClick(this.props.value);\n  };\n\n  render(){\n    return (\n      <button onClick={this.handleClick} style={this.props.style} className=\"button\"> \n        {this.props.value}\n      </button>\n    );\n  };\n}\n\nfunction Buttons(props){\n  let buttons = button_config.map(element=>{\n    let style = {\n      top : element.top*gh + \"px\",\n      left: element.left*gw + \"px\",\n      height: element.height*gh + \"px\",\n      width: element.width*gw + \"px\",\n    };\n    return(\n      <Button \n        onClick={props.onClickButton}\n        value={element.value}\n        style={style}\n        key={element.value}\n      />\n    )\n  });\n  return (\n    <div style={{position: \"relative\"}}>\n      {buttons}\n    </div>\n  )\n\n}\n\n\nclass App extends React.Component{\n  constructor(props){\n    super(props);\n    this.handleButtonInput = this.handleButtonInput.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleInputSelect = this.handleInputSelect.bind(this);\n    this.handleHistoryInputAns = this.handleHistoryInputAns.bind(this);\n    this.handleHistoryInputExpr = this.handleHistoryInputExpr.bind(this);\n    this.handleHistoryDelete = this.handleHistoryDelete.bind(this);\n    this.handleHistoryDeleteAll = this.handleHistoryDeleteAll.bind(this);\n    this.state = {\n      history: [], // {str expression, str answer, bool valid}\n      expression: \"\",\n      input_cur_start:0,\n      input_cur_end:0,\n    };\n    this.input_ref = React.createRef();\n  };\n\n  handleHistoryInputExpr(input){\n    this.setState(\n      state => {\n        return {\n          expression: input,\n          input_cur_start: input.length,\n          input_cur_end: input.length,\n        }\n      }\n    )\n  }\n\n  handleHistoryInputAns(input){\n    this.setState(\n      state => {\n        return {\n          expression: state.expression.slice(0,state.input_cur_start) + input+state.expression.slice(state.input_cur_end),\n          input_cur_start: state.input_cur_start + input.length,\n          input_cur_end: state.input_cur_start + input.length,\n        }\n      }\n    )\n  }\n\n  handleHistoryDelete(index){\n    this.setState(\n      state => {\n        return {\n          history : state.history.filter(h=>{\n            return h.index != index;\n          })\n        }\n    })\n  }\n\n  handleHistoryDeleteAll(index){\n    this.setState({history:[]});\n  }\n\n  handleInputChange(element){\n    this.setState({\n      expression:element.value,\n      input_cur_start: this.input_ref.current.selectionStart,\n      input_cur_end: this.input_ref.current.selectionEnd,\n    });\n  }\n\n  handleInputSelect(){\n    this.setState({\n      input_cur_start: this.input_ref.current.selectionStart,\n      input_cur_end: this.input_ref.current.selectionEnd,\n    });\n  }\n\n  handleButtonInput(input){\n    this.setState(\n      state => {\n        let new_state = {};\n        if(input == \"C\"){\n          new_state = {\n            expression: \"\",\n            input_cur_start: 0,\n            input_cur_end: 0,\n          };\n        }\n        else if(input == \"Del\"){\n          if(state.input_cur_start == state.input_cur_end){\n            new_state = {\n              expression: state.expression.slice(0,state.input_cur_start-1) + state.expression.slice(state.input_cur_end),\n              input_cur_start: state.input_cur_start-1,\n              input_cur_end: state.input_cur_start-1,\n            };\n          }\n          else{\n            new_state = {\n              expression: state.expression.slice(0,state.input_cur_start) + state.expression.slice(state.input_cur_end),\n              input_cur_start: state.input_cur_start,\n              input_cur_end: state.input_cur_start,\n            };\n          }\n        }\n        else if(input == \"=\"){\n          new_state = handleEqual(state);\n        }\n        else if(input == \"←\"){\n          if(state.input_cur_start == state.input_cur_end){\n            let new_pos = state.input_cur_start==0?0:state.input_cur_start-1;\n            new_state = {\n              input_cur_start: new_pos,\n              input_cur_end: new_pos,\n            }\n          }\n          else{\n            new_state = {\n              input_cur_start: state.input_cur_end,\n            }\n          }\n        }\n        else if(input == \"→\"){\n          if(state.input_cur_start == state.input_cur_end){\n            let new_pos = state.input_cur_start==state.expression.length?\n              state.expression.length:state.input_cur_start+1;\n            new_state = {\n              input_cur_start: new_pos,\n              input_cur_end: new_pos,\n            }\n          }\n          else{\n            new_state = {\n              input_cur_start: state.input_cur_end,\n            }\n          }\n        }\n        else{\n          new_state = {\n            expression: state.expression.slice(0,state.input_cur_start) + input+state.expression.slice(state.input_cur_end),\n            input_cur_start: state.input_cur_start + input.length,\n            input_cur_end: state.input_cur_start + input.length,\n          }\n        }\n        return new_state\n      }\n    );\n  };\n\n  componentDidUpdate(){\n    this.input_ref.current.focus();\n    this.input_ref.current.setSelectionRange(this.state.input_cur_start, this.state.input_cur_end);\n  }\n\n  render(){\n    return (\n      <div id=\"calculator\">\n        <div id=\"calculation-area\">\n          <Display \n            input={this.state.expression} \n            input_ref={this.input_ref}\n            onInputChange={this.handleInputChange}\n            onInputSelect={this.handleInputSelect}\n          />\n          <Buttons onClickButton={this.handleButtonInput}/>\n        </div>\n        <History \n          entries={this.state.history} \n          onClickExpr={this.handleHistoryInputExpr}\n          onClickAns={this.handleHistoryInputAns}\n          onClickDel={this.handleHistoryDelete}\n          onClickDelAll={this.handleHistoryDeleteAll}\n        />\n      </div>\n    );\n  }\n}\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}